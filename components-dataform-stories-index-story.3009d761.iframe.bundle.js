"use strict";(globalThis.webpackChunkgutenberg=globalThis.webpackChunkgutenberg||[]).push([[8567],{"./packages/components/build-module/toggle-group-control/toggle-group-control-option/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/build-module/toggle-group-control/toggle-group-control-option-base/component.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.forwardRef)((function UnforwardedToggleGroupControlOption(props,ref){const{label,...restProps}=props,optionLabel=restProps["aria-label"]||label;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_toggle_group_control_option_base__WEBPACK_IMPORTED_MODULE_1__.Z,{...restProps,"aria-label":optionLabel,ref,children:label})}))},"./packages/components/build-module/v-stack/component.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>v_stack_component});var context_connect=__webpack_require__("./packages/components/build-module/context/context-connect.js"),component=__webpack_require__("./packages/components/build-module/view/component.js"),use_context_system=__webpack_require__("./packages/components/build-module/context/use-context-system.js"),hook=__webpack_require__("./packages/components/build-module/h-stack/hook.js");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const v_stack_component=(0,context_connect.Iq)((function UnconnectedVStack(props,forwardedRef){const vStackProps=function useVStack(props){const{expanded=!1,alignment="stretch",...otherProps}=(0,use_context_system.y)(props,"VStack");return(0,hook.R)({direction:"column",expanded,alignment,...otherProps})}(props);return(0,jsx_runtime.jsx)(component.Z,{...vStackProps,ref:forwardedRef})}),"VStack")},"./packages/icons/build-module/library/close-small.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/primitives/build-module/svg/index.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__=(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.Wj,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_wordpress_primitives__WEBPACK_IMPORTED_MODULE_1__.y$,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})})},"./node_modules/date-fns/set.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{t:()=>set});var _constructFrom_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/date-fns/constructFrom.mjs"),_setMonth_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/setMonth.mjs"),_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.mjs");function set(date,values){let _date=(0,_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(date);return isNaN(+_date)?(0,_constructFrom_mjs__WEBPACK_IMPORTED_MODULE_1__.L)(date,NaN):(null!=values.year&&_date.setFullYear(values.year),null!=values.month&&(_date=(0,_setMonth_mjs__WEBPACK_IMPORTED_MODULE_2__.q)(_date,values.month)),null!=values.date&&_date.setDate(values.date),null!=values.hours&&_date.setHours(values.hours),null!=values.minutes&&_date.setMinutes(values.minutes),null!=values.seconds&&_date.setSeconds(values.seconds),null!=values.milliseconds&&_date.setMilliseconds(values.milliseconds),_date)}},"./node_modules/date-fns/setMonth.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{q:()=>setMonth});var constructFrom=__webpack_require__("./node_modules/date-fns/constructFrom.mjs"),toDate=__webpack_require__("./node_modules/date-fns/toDate.mjs");function getDaysInMonth(date){const _date=(0,toDate.Q)(date),year=_date.getFullYear(),monthIndex=_date.getMonth(),lastDayOfMonth=(0,constructFrom.L)(date,0);return lastDayOfMonth.setFullYear(year,monthIndex+1,0),lastDayOfMonth.setHours(0,0,0,0),lastDayOfMonth.getDate()}function setMonth(date,month){const _date=(0,toDate.Q)(date),year=_date.getFullYear(),day=_date.getDate(),dateWithDesiredMonth=(0,constructFrom.L)(date,0);dateWithDesiredMonth.setFullYear(year,month,15),dateWithDesiredMonth.setHours(0,0,0,0);const daysInMonth=getDaysInMonth(dateWithDesiredMonth);return _date.setMonth(month,Math.min(day,daysInMonth)),_date}},"./node_modules/date-fns/startOfMinute.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{F:()=>startOfMinute});var _toDate_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.mjs");function startOfMinute(date){const _date=(0,_toDate_mjs__WEBPACK_IMPORTED_MODULE_0__.Q)(date);return _date.setSeconds(0,0),_date}},"./packages/dataviews/src/components/dataform/stories/index.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,default:()=>index_story});var react=__webpack_require__("./node_modules/react/index.js"),component=__webpack_require__("./packages/components/build-module/v-stack/component.js"),normalize_fields=__webpack_require__("./packages/dataviews/src/normalize-fields.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function FormRegular({data,fields,form,onChange}){const visibleFields=(0,react.useMemo)((()=>{var _form$fields;return(0,normalize_fields.U)((null!==(_form$fields=form.fields)&&void 0!==_form$fields?_form$fields:[]).map((fieldId=>fields.find((({id})=>id===fieldId)))).filter((field=>!!field)))}),[fields,form.fields]);return(0,jsx_runtime.jsx)(component.Z,{spacing:4,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(field.Edit,{data,field,onChange},field.id)))})}FormRegular.displayName="FormRegular";try{regular.displayName="regular",regular.__docgenInfo={description:"",displayName:"regular",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/regular/index.tsx#regular"]={docgenInfo:regular.__docgenInfo,name:"regular",path:"packages/dataviews/src/dataforms-layouts/regular/index.tsx#regular"})}catch(__react_docgen_typescript_loader_error){}var h_stack_component=__webpack_require__("./packages/components/build-module/h-stack/component.js"),heading_component=__webpack_require__("./packages/components/build-module/heading/component.js"),spacer_component=__webpack_require__("./packages/components/build-module/spacer/component.js"),build_module_button=__webpack_require__("./packages/components/build-module/button/index.js"),dropdown=__webpack_require__("./packages/components/build-module/dropdown/index.js"),build_module=__webpack_require__("./packages/i18n/build-module/index.js"),close_small=__webpack_require__("./packages/icons/build-module/library/close-small.js");function DropdownHeader({title,onClose}){return(0,jsx_runtime.jsx)(component.Z,{className:"dataforms-layouts-panel__dropdown-header",spacing:4,children:(0,jsx_runtime.jsxs)(h_stack_component.Z,{alignment:"center",children:[(0,jsx_runtime.jsx)(heading_component.Z,{level:2,size:13,children:title}),(0,jsx_runtime.jsx)(spacer_component.Z,{}),onClose&&(0,jsx_runtime.jsx)(build_module_button.ZP,{__next40pxDefaultSize:!1,className:"dataforms-layouts-panel__dropdown-header-action",label:(0,build_module.__)("Close"),icon:close_small.Z,onClick:onClose})]})})}function FormField({data,field,onChange}){const[popoverAnchor,setPopoverAnchor]=(0,react.useState)(null),popoverProps=(0,react.useMemo)((()=>({anchor:popoverAnchor,placement:"left-start",offset:36,shift:!0})),[popoverAnchor]);return(0,jsx_runtime.jsxs)(h_stack_component.Z,{ref:setPopoverAnchor,className:"dataforms-layouts-panel__field",children:[(0,jsx_runtime.jsx)("div",{className:"dataforms-layouts-panel__field-label",children:field.label}),(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(dropdown.Z,{contentClassName:"dataforms-layouts-panel__field-dropdown",popoverProps,focusOnMount:!0,toggleProps:{size:"compact",variant:"tertiary",tooltipPosition:"middle left"},renderToggle:({isOpen,onToggle})=>(0,jsx_runtime.jsx)(build_module_button.ZP,{className:"dataforms-layouts-panel__field-control",size:"compact",variant:"tertiary","aria-expanded":isOpen,"aria-label":(0,build_module.gB)((0,build_module.__)("Edit %s"),field.label),onClick:onToggle,children:(0,jsx_runtime.jsx)(field.render,{item:data})}),renderContent:({onClose})=>(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(DropdownHeader,{title:field.label,onClose}),(0,jsx_runtime.jsx)(field.Edit,{data,field,onChange,hideLabelFromVision:!0},field.id)]})})})]})}function FormPanel({data,fields,form,onChange}){const visibleFields=(0,react.useMemo)((()=>{var _form$fields;return(0,normalize_fields.U)((null!==(_form$fields=form.fields)&&void 0!==_form$fields?_form$fields:[]).map((fieldId=>fields.find((({id})=>id===fieldId)))).filter((field=>!!field)))}),[fields,form.fields]);return(0,jsx_runtime.jsx)(component.Z,{spacing:2,children:visibleFields.map((field=>(0,jsx_runtime.jsx)(FormField,{data,field,onChange},field.id)))})}DropdownHeader.displayName="DropdownHeader",FormField.displayName="FormField",FormPanel.displayName="FormPanel";try{panel.displayName="panel",panel.__docgenInfo={description:"",displayName:"panel",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/panel/index.tsx#panel"]={docgenInfo:panel.__docgenInfo,name:"panel",path:"packages/dataviews/src/dataforms-layouts/panel/index.tsx#panel"})}catch(__react_docgen_typescript_loader_error){}const FORM_LAYOUTS=[{type:"regular",component:FormRegular},{type:"panel",component:FormPanel}];function getFormLayout(type){return FORM_LAYOUTS.find((layout=>layout.type===type))}try{getFormLayout.displayName="getFormLayout",getFormLayout.__docgenInfo={description:"",displayName:"getFormLayout",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/dataforms-layouts/index.tsx#getFormLayout"]={docgenInfo:getFormLayout.__docgenInfo,name:"getFormLayout",path:"packages/dataviews/src/dataforms-layouts/index.tsx#getFormLayout"})}catch(__react_docgen_typescript_loader_error){}function DataForm({form,...props}){var _form$type;const layout=getFormLayout(null!==(_form$type=form.type)&&void 0!==_form$type?_form$type:"regular");return layout?(0,jsx_runtime.jsx)(layout.component,{form,...props}):null}DataForm.displayName="DataForm";try{dataform.displayName="dataform",dataform.__docgenInfo={description:"",displayName:"dataform",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"Item"}},fields:{defaultValue:null,description:"",name:"fields",required:!0,type:{name:"Field<Item>[]"}},form:{defaultValue:null,description:"",name:"form",required:!0,type:{name:"Form"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!0,type:{name:"(value: Record<string, any>) => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataform/index.tsx#dataform"]={docgenInfo:dataform.__docgenInfo,name:"dataform",path:"packages/dataviews/src/components/dataform/index.tsx#dataform"})}catch(__react_docgen_typescript_loader_error){}const index_story={title:"DataViews/DataForm",component:DataForm,argTypes:{type:{control:{type:"select"},description:'Chooses the layout of the form. "regular" is the default layout.',options:["regular","panel"]}},parameters:{sourceLink:"packages/dataviews/src/components/dataform",badges:[]}},fields=[{id:"title",label:"Title",type:"text"},{id:"order",label:"Order",type:"integer"},{id:"date",label:"Date",type:"datetime"},{id:"birthdate",label:"Date as options",type:"datetime",elements:[{value:"1970-02-23T12:00:00",label:"Jane's birth date"},{value:"1950-02-23T12:00:00",label:"John's birth date"}]},{id:"author",label:"Author",type:"integer",elements:[{value:1,label:"Jane"},{value:2,label:"John"}]},{id:"reviewer",label:"Reviewer",type:"text",Edit:"radio",elements:[{value:"fulano",label:"Fulano"},{value:"mengano",label:"Mengano"},{value:"zutano",label:"Zutano"}]},{id:"status",label:"Status",type:"text",elements:[{value:"draft",label:"Draft"},{value:"published",label:"Published"}]}],Default=({type})=>{const[post,setPost]=(0,react.useState)({title:"Hello, World!",order:2,author:1,status:"draft",reviewer:"fulano",date:"2021-01-01T12:00:00",birthdate:"1950-02-23T12:00:00"});return(0,jsx_runtime.jsx)(DataForm,{data:post,fields,form:{fields:["title","order","author","reviewer","status","date","birthdate"],type},onChange:edits=>setPost((prev=>({...prev,...edits})))})};Default.displayName="Default",Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"({\n  type\n}: {\n  type: 'panel' | 'regular';\n}) => {\n  const [post, setPost] = useState({\n    title: 'Hello, World!',\n    order: 2,\n    author: 1,\n    status: 'draft',\n    reviewer: 'fulano',\n    date: '2021-01-01T12:00:00',\n    birthdate: '1950-02-23T12:00:00'\n  });\n  const form = {\n    fields: ['title', 'order', 'author', 'reviewer', 'status', 'date', 'birthdate']\n  };\n  return <DataForm data={post} fields={fields} form={{\n    ...form,\n    type\n  }} onChange={edits => setPost(prev => ({\n    ...prev,\n    ...edits\n  }))} />;\n}",...Default.parameters?.docs?.source}}};try{Default.displayName="Default",Default.__docgenInfo={description:"",displayName:"Default",props:{type:{defaultValue:null,description:"",name:"type",required:!0,type:{name:"enum",value:[{value:'"regular"'},{value:'"panel"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/dataviews/src/components/dataform/stories/index.story.tsx#Default"]={docgenInfo:Default.__docgenInfo,name:"Default",path:"packages/dataviews/src/components/dataform/stories/index.story.tsx#Default"})}catch(__react_docgen_typescript_loader_error){}}}]);